---
title: 3. 基本資料型別 (Primitive Data Types)
---

# 3. 基本資料型別 (Primitive Data Types)
## 基本資料型別 - 整數
  |名稱  |Byte|範圍              |初值|說明                     |
  |-----|:--:|-----------------:|:-:|-----------------------:|
  |byte |1   |-2⁷ ~ ( 2⁷ - 1 )  |0  |-128 ~ 127              |
  |short|2   |-2¹⁵ ~ ( 2¹⁵ - 1 )|0  |-32768 ~ 32767          |
  |int  |4   |-2³¹ ~ ( 2³¹ - 1 )|0  |-21億 ~ 21億             |
  |long |8   |-2⁶³ ~ ( 2⁶³ - 1 )|0L |-9.2 x 10¹⁸ ~ 9.2 x 10¹⁸|

  > [註] 1 byte = 8 bit

## 變數宣告
  - 變數宣告方式：
    - 方法一：宣告型態
      - `資料型態 <空格> 變數名稱`
        ```java
        long salary;
        salary = 20000;
        ```

    - 方法二：直接宣告
      - `資料型態 <空格> 變數名稱 = 值`
        ```java
        long salary = 50000;
        ```
  - 同一型態資料可連續宣告，中間用逗號區隔，分號結尾
    ```java
    int i, j, k;
    ```
    ```java
    int i = 0, j = 1, k = 2;
    ```
  - 變數都必須給值後才能使用，而且相同變數名稱不能重覆宣告。實體變數為例外，宣告後如不給值會有預設值，請見 class 章節。

## 變數命名規則
  - 變數名稱：`A-Z`, `a-z`, `0-9`, `_底線`, `$`，長度不拘
    - 第一個不能是 `數字`
    - `大小寫` 不同，為不同的變數
    - 不能是 `關鍵字`
  - [很重要] 變數、方法命名規則
    - 小寫開頭
    - 如果後面還有接其他的字，則後字以大寫開頭
    - 變數命名要「 `簡短` 」，且要有意義，這種命名方式英文叫做「 `Camel Case` 」，因為像駝峰。例如： `int fruitAmount = 10;`
  - 例外：`常數變數 (Constant)`，通常為全部大寫
  - 可參考 [oracle 官網](http://www.oracle.com/technetwork/java/codeconventions-135099.html)
    
## 基本型別宣告
  | 基本型別   | 範例及說明                             |
  |----------|---------------------------------------|
  | byte     | `byte a = 1`                          |
  | int      | `int a = 1`                           |
  | long     | `long a = 12345678901L;` <br> 在 Java 開發時，如果輸入整數預設為 `int` 型態，最多只能輸入到 `21 億`，要輸入超過 `21 億`，必須加 `L` 於字尾，表示為 `long` 型態 |

## byte 怎麼計算？ 1 byte = 8 bit
  電腦記憶體中存放的都是 `二進位` 資料，也就是只有 0、1。

  下方每一格表示 1 個 `bit`，一列有 `8 bit` 為 1 個 `byte`，最左邊的 `bit (2⁷)` 表示正負號
  
  以下有 6 個範例

  | 2⁷ | 2⁶ | 2⁵ | 2⁴ | 2³ | 2² | 2¹ | 2⁰ |                          計算 |
  |---:|---:|---:|---:|---:|---:|---:|---:|------------------------------:|
  |  0 |  0 |  0 |  0 |  0 |  0 |  0 |  0 |                             0 |
  |  0 |  0 |  0 |  0 |  0 |  0 |  0 |  1 |                        2⁰ = 1 |
  |  0 |  0 |  0 |  0 |  0 |  0 |  1 |  0 |                        2¹ = 2 |
  |  0 |  0 |  0 |  0 |  0 |  0 |  1 |  1 |                   2¹ + 2⁰ = 3 |
  |  0 |  0 |  0 |  0 |  0 |  1 |  0 |  0 |                        2² = 4 |
  |  0 |  1 |  1 |  1 |  1 |  1 |  1 |  1 | 2⁶ + 2⁵ + ... + 2¹ + 2⁰ = 127 |

## 相加
  直接 bit 相加，超過 1，則進位

  | 2⁷ | 2⁶ | 2⁵ |            2⁴ | 2³ |            2² | 2¹ | 2⁰ |         計算 |
  |---:|---:|---:|--------------:|---:|--------------:|---:|---:|-------------:|
  |  0 |  0 |  0 |             1 |  0 |             1 |  0 |  0 |           20 |
  |  0 |  0 |  0 |             1 |  0 |             1 |  0 |  0 |          +20 |
  |  0 |  0 |  1 |             0 |  1 |             0 |  0 |  0 | 2⁵ + 2³ = 40 |
  |    |    |    | 1 + 1<br>進位  |    | 1 + 1<br>進位 |    |    |              |

## 資料溢位 (Overflow)
  計算結果超過能儲存的範圍，稱為 `溢位 (Overflow)`，計算結果會不正確

  | 2⁷ |            2⁶ |            2⁵ |            2⁴ |            2³ |            2² |            2¹ | 2⁰ |  計算 |
  |---:|--------------:|--------------:|--------------:|--------------:|--------------:|--------------:|---:|------:|
  |  0 |             1 |             1 |             1 |             1 |             1 |             1 |  1 |   127 |
  |  0 |             0 |             0 |             0 |             0 |             0 |             0 |  1 |   + 1 |
  |  1 |             0 |             0 |             0 |             0 |             0 |             0 |  0 | - 128 |
  |    | 1 + 1<br>進位  | 1 + 1<br>進位  | 1 + 1<br>進位 | 1 + 1<br>進位  | 1 + 1<br>進位  | 1 + 1<br>進位 |  1 + 1<br>進位  |       |

## 基本資料型別 - 浮點數
  (算錢不要用)
  | 名稱   | Byte | 範圍                     | 初值 | 說明                                            | 宣告                                                        |
  |--------|------|--------------------------|------|-----------------------------------------------|-----------------------------------------------------------|
  | `float`  | 4    | ±3.4x10³⁸ ~ ±1.4x10⁻⁴⁵   | 0.0f | 單精度浮點數，精度 `7` 位數                        | `float a = 0.1f;` <br>(因為預設為 double，所以要加 f，指明為 float) |
  | `double` | 8    | ±1.8x10³⁰⁸ ~ ±4.9x10⁻³²⁴ | 0.0  | 雙精度浮點數 `15` 位數，Java 預設浮點數都是 double | `double a = 0.1;` <br>(小數預設型別都是 double)                   |

  - `33.33 * 4.5 = 149.98499999999999`
  - `3333 * 45 = 149985`
  - 計算小數時，會有誤差。所有的程式語言都是如此。
  - 浮點數計算不精確，但計算速度快，`Java` 另有別的機制 (`BigDecimal 類別`)，可以正確處理浮點數計算，但速度較慢。

## 基本資料型別 - char boolean
  | 名稱    | 大小    | 範圍                                  | 初值   | 說明                                                               | 宣告                   |
  |---------|---------|---------------------------------------|--------|--------------------------------------------------------------------|------------------------|
  | char    | 2 bytes | 0 ~ 2¹⁶-1<br>0~65535<br>\u0000-\uffff | \u0000 | Unicode standard 6.0<br>UTF-16<br>一般字 2 bytes<br>罕見字 4 bytes | `char a = 'A';` (單引號) |
  | boolean | 1 bit   | true, false                           | false  |                                                                    | `boolean paid = true;`   |
  > - 多個字 用 `"`
  > - 單個字 用 `'`

## 基本型別宣告
  | 型別     | 範例               |
  |---------|--------------------|
  | char    | `char a = 'A'; `   |
  | boolean | `boolean a = true` |

## 跳脫字元
  在文字中如果要使用特定字元，例如 `'` 或者 `"`，必須使用跳脫符號 `\`，讓編譯器知道後面的字為要顯示的字，常用的跳脫字元如下
  | 範例                         | 範例                            |
  |-----------------------------|---------------------------------|
  | `\t` (一個 tab 鍵)           | `\\` (反斜線)                    |
  | `\"` (雙引號)                | `\uxxxx` (以 16 進位輸出 Unicode) |
  | `\'` (單引號)                | `\n` (Linux、Mac 換行)           |
  | `\r\n` (windows 系統換行字元) | `\r` (游標移至行手)               |

## 保留字
  | abstract | continue | for        | new       | switch       |
  |----------|----------|------------|-----------|--------------|
  | assert   | default  | goto       | package   | synchronized |
  | boolean  | do       | if         | private   | this         |
  | break    | double   | implements | protected | throw        |
  | byte     | else     | import     | public    | throws       |
  | case     | enum     | instanceof | return    | transient    |
  | catch    | extends  | int        | short     | try          |
  | char     | final    | interface  | static    | void         |
  | class    | finally  | long       | strictfp  | volatile     |
  | const    | float    | native     | super     | while        |

  - [官網-保留字](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html)

## 區域變數 (Local Variable)
  - 宣告在方法內的變數，稱為「 `區域變數` 」，只能在宣告的方法左右括號內被使用。
  - Java 程式運算有兩大記憶體區塊，一塊叫 `Stack`，另一塊叫 `Heap`，用來存放物件。
  - 因為「 `區域變數` 」存放在「 `Stack` 」中。又稱為 `stack variable`，方法一結束，該變數即從記憶體中消失，所以也叫 `自動變數 (Automatic variables)`。
  - 區域變數在宣告時並不會自動設定預設值，必須用`等於 (=)`設定值後，才能使用，否則編譯會有錯。
  > 在宣告的前面找最近的大括號，再找相對應的大括號。

## 運算子 (Operators)
  |算術運算|`+ (加)`、`- (減)`、`* (乘)`、`/ (除)`|
  |---|---|
  |比較運算|`> (大於)`、`>= (不小於)`、`< (小於)`、<br>`<= (不大於)`、`== (等於)`、`!= (不等於)`|
  |條件運算|`&& (and)`、`|| (or)`、`! (not)`|
  |位元運算|`& (and)`、`| (or)`、`^ (not)`、`~ (補數)`、`<< (左移)`、`>> (右移)`、`>>> (右移後左補零)`|
  |遞增、遞減運算|`++`、`--`|
  |指定運算|`=`、`+=`、`-=`、`*=`、`/=`、`%=`|
  |三元運算|`?:`|

## 算術運算子
  - 又稱為二元運算子 (Binary operators)

  |            | `int a = 10, b = 3;` | 結果                               |
  |------------|----------------------|------------------------------------|
  | +          | `c = a + b`          | `c = 13`                           |
  | -          | `c = a - b`          | `c = 7`                            |
  | *          | `c = a * b`          | `c = 30`                           |
  | /          | `c = a / b`          | `c = 3.333?`                       |
  | % (取餘數)  | `c = a % b`          | `c = 1`<br>常用來判斷是否整除及奇偶數  |

  > - 若兩相同型別的運算元運算時，則運算結果也會為同一型別，至少為 int 型別。

## 二元數字運算晉升 (Binary Numeric Promotion) 
  - Java Language Spec 5.6.2 中說明，以下條件先成立則先執行
    - If either operand is of type `double`, the other is converted to `double`.
      - 如果運算元有一個為 `double`，則另一個運算元會轉為 `double` 才進行運算，其結果也為 `double`。
    - Otherwise, if either operand is of type `float`, the other is converted to `float`.
    - Otherwise, if either operand is of type `long`, the other is converted to `long`.
    - Otherwise, both operands are converted to type `int`.
  - 簡而言之，以能儲存的 range 最大的為主，`Double > Float > Long > Int`，「 但至少為 `int` 」，主要是避免「 資料溢位 」

  - 例如
    - `int a = 10`
    - `double b = 15.2`
    - `double c = a + b;` 因為 a 為 `int`，b 為 `double`，計算時會自動把 a 晉升為 `double` 進行計算以防止溢位，所以 c 必須宣告為 `double`。

    | 等號邊第一運算元    | 等號右邊第二運算元    | 等號左邊變數宣告    |
    |------------------|--------------------|------------------|
    | int              | int                | int              |
    | int              | double             | double           |
    | float            | double             | double           |
    | byte             | short              | int              |

## 晉升 (Promotion) 與 型別轉換 (Casting)
  - Promotion 為等號右邊的資料型別，較左方的型別小，則會將右方自動變成較大的資料型別。
    - `double a = 1;`
  - 型別轉換 (Typecasting)
    - 較大的資料型別轉為較小的資料型別時，必須使用強制轉換。
    - 利用「 小括號 」進行強制轉換
      - `double a = 10.5;`
      - `int y = (int)a;`
        > 強制轉型成 int 後，小數會不見，y = 10

## 比較運算子 (Comparison Operators)
  - `Java` 提供了以下的比較運算子，其回傳值為 `boolean (true or false)`
    - `> (大於)`、`>= (不小於)`、`< (小於)`
    - `<= (不大於)`、`== (等於)`、`!= (不等於)`

  | 範例                                                                                          | 結果 |
  |----------------------------------------------------------------------------------------------|------|
  | `int age = 20;`<br>`boolean adult = age > 18;`<br>`System.out.println("是否成年 = " + adult);` | true |

## 條件運算 (Conditional Operators)
  - `Java` 提供了以下的條件運算，兩邊運算元必須都是 `boolean` 型態，其回傳值也為 `boolean`

  | 運算元 | 說明                                                                                                 | 範例                   |
  |--------|----------------------------------------------------------------------------------------------------|------------------------|
  | `&&`   | 取 `交集(and)`，左右兩邊運算元都為 true 才回傳 true，如果左邊運算元為 false，則右邊運算元不計算，「 速度較快 」  | `age > 18 && age < 30` |
  | `\|\|` | 取 `聯集(or)`，一邊回傳 true，即為 true。如果左邊運算元為 true，則右邊運算元不計算，「 速度較快 」              | `age < 18 && age > 30` |
  | `!`    | 相反的布林值                                                                                         | `!(age > 18)`          |
  | `&`    | 取 `交集(and)`，左右兩邊都為 true 才回傳 true，兩邊都會運算                                               | `age > 18 & age < 30`  |
  | `\|`   | 取 `聯集(or)`，任一邊回傳 true，即為 true，兩邊都會運算                                                   | `age > 18 \| age < 30` |
  | `^`    | 兩運算元一邊為 true，一邊為 false，才回傳 true                                                          | `age > 18 ^ age < 30`  |

## 真假值
  | `A` | `B` | `A && B` | `A \|\| B` |
  |:---:|:---:|:--------:|:----------:|
  | 真  | 真   |    真     |     真     |
  | 真  |  F   |    F     |     真     |
  |  F  | 真   |    F     |     真     |
  |  f  |  F   |    假    |     F      |

## 位元運算子 (Bitwise Operators)
  - `&` 兩 bit 都是 1，結果才為 1，否則為 0
    - `1100 & 0110 => 0100`
  - `|` 只要有一邊是 1，結果就是 1，否則為 0
    - `1100 | 0110 => 1110`
  - `^` 一邊 0 一邊 1 才為 1，否則為 0
    - `1100 ^ 0110 => 1010`
  - `~` 01互換
    - `~0110 => 1001`

## 遞增、遞減運算
  | 遞增、遞減運算 | 說明                                              |
  |---------------|-------------------------------------------------|
  | `a++`         | 『 `後置型` 』+1，為先取 a 值，『 `結束後` 』才 a + 1 |
  | `a--`         | 後置型 -1，為先取 a 值，結束後 才 a - 1              |
  | `++a`         | 『 `前置型` 』+1，『 `先執行` 』a = a +1，再取得 a 值 |
  | `--a`         | 前置型 -1，先執行 a = a -1，再取得 a 值              |

  ```java
  int a = 10;
  System.out.println(a++);  // 10
  System.out.println(a);    // 11
  ```
  ```java
  int a = 10;
  System.out.println(++a);  // 11
  System.out.println(a);    // 11
  ```
  ```java
  int a = 10;
  ++a;    // 如果只有 ++a 則跟 a++ 無異
  ```
  ```java
  int a = 10;
  System.out.println((a++)+":"+a);    // 10:11
  ```

## 指定運算 (Assignment Operators)
  - 指定運算為，將右邊運算完成的結果 `指定給左邊變數`。
  - 等號左邊一定是 `變數`。
  - 運算的結果會轉換為左邊變數的型態，所以左邊變數能儲存的值，一定要比右邊運算結果來得高。
    - 例如：右邊運算為 `float`，則等於左邊至少要是 `float` 或者 `double`。

  | 運算  | 例子      | 結果        |
  |------|----------|-------------|
  | `=`  | `a = 10` |             |
  | `+=` | `a += b` | `a = a + b` |
  | `-=` | `a -= b` | `a = a - b` |
  | `*=` | `a *= b` | `a = a * b` |
  | `/=` | `a /= b` | `a = a / b` |
  | `%=` | `a %= b` | `a = a % b` |

## 三元運算 `?:` (Conditional Operator)
  - 用法： `a ? b : c`
    - 如果 `a` 運算執行結果為 `true`，則執行運算 `b`，否則執行運算 `c`
  - 範例：
    ```java
    int sales = 2000;
    int salary = 100;
    // 如果銷售大於 1000，則薪水加 10，否則薪水 -10
    salary = sales > 1000 ? salary + 10 : salary - 10;
    System.out.println("薪水 = " + salary);
    ```
  - 範例：
    ```java
    int age = 16;
    System.out.println(age > 18 ? "成年" : "未成年");
    ```

## 運算優先順序 (Operator Precedence)
  當一個運算元左右都有運算符號時，會依以下的順序為優先
  
  | 順序 | 符號                                                                       | Associativity|
  |------|---------------------------------------------------------------------------|--------------|
  | 1    | `expr++` `expr--`                                                         | 先右再左      |
  | 2    | `++expr` `--expr`<br>`+expr` `-expr` `~` `!`                              | 先左再右      |
  | 3    | `*` `/` `%`                                                               | 先左再右      |
  | 4    | `+` `-`                                                                   | 先左再右      |
  | 5    | `<<` `>>` `>>>`                                                           | 先左再右      |
  | 6    | `<` `>` `<=` `>=` `instanceof`                                            | 先左再右      |
  | 7    | `==` `!=`                                                                 | 先左再右      |
  | 8    | `&`                                                                       | 先左再右      |
  | 9    | `^`                                                                       | 先左再右      |
  | 10   | `\|`                                                                      | 先左再右      |
  | 11   | `&&`                                                                      | 先左再右      |
  | 12   | `\|\|`                                                                    | 先左再右      |
  | 13   | `? :`                                                                     | 先左再右      |
  | 14   | `=` `+=` `-=` `*=` `/=` `%=` `&=`<br>`^=` `\|=` `<<=` `>>=` `>>>=`        | 先左再右      |

  `先乘除後加減`，優先順序可以利用 `中括號()` 加以修正。

  - ### 優先級 Precedence
    `1 + 2 * 3`<br>
    同時間有兩個運算子，乘除運算子較加減為優先<br>
    等同於 `1 + (2 * 3)`
    
    ---
    
    `int x = 6`;<br>
    `int y = 10;`<br>
    `int z = ++x * y--;`<br>
    結果：`z = 70, x = 7, y = 9`

  - ### 結合性 Associativity
    當計算中有兩個相同位階的運算子，則計算順序以 `Associativity` 為主<br>
    `72 / 2 / 3`<br>
    `2` 同時間左右兩個運算子，都是除，則 `先左再右` <br>
    `(72 / 2) / 3`
