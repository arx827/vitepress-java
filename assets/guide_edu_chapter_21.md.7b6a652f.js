import{_ as s,c as n,o as a,a as l}from"./app.b24c6e2d.js";const e="/vitepress-java/edu/edu-chapter-21-1.svg",C=JSON.parse('{"title":"21. 例外處理","description":"","frontmatter":{"title":"21. 例外處理"},"headers":[{"level":2,"title":"Exception","slug":"exception","link":"#exception","children":[]},{"level":2,"title":"多重catch","slug":"多重catch","link":"#多重catch","children":[]},{"level":2,"title":"多重例外處理流程","slug":"多重例外處理流程","link":"#多重例外處理流程","children":[]},{"level":2,"title":"RuntimeException","slug":"runtimeexception","link":"#runtimeexception","children":[]},{"level":2,"title":"Checked Exception","slug":"checked-exception","link":"#checked-exception","children":[]},{"level":2,"title":"throws","slug":"throws","link":"#throws","children":[]},{"level":2,"title":"如果有多個 Exception 可能同時發生，throws 可以同時宣告可能丟出多個 Exception，利用 , 區隔","slug":"如果有多個-exception-可能同時發生-throws-可以同時宣告可能丟出多個-exception-利用-區隔","link":"#如果有多個-exception-可能同時發生-throws-可以同時宣告可能丟出多個-exception-利用-區隔","children":[]},{"level":2,"title":"throws 宣告丟出父類別 Exception","slug":"throws-宣告丟出父類別-exception","link":"#throws-宣告丟出父類別-exception","children":[]},{"level":2,"title":"throws","slug":"throws-1","link":"#throws-1","children":[]},{"level":2,"title":"throw","slug":"throw","link":"#throw","children":[]},{"level":2,"title":"throws","slug":"throws-2","link":"#throws-2","children":[]},{"level":2,"title":"Lab Exception3","slug":"lab-exception3","link":"#lab-exception3","children":[]},{"level":2,"title":"常見 Exception","slug":"常見-exception","link":"#常見-exception","children":[]},{"level":2,"title":"NullPointerExeption","slug":"nullpointerexeption","link":"#nullpointerexeption","children":[]}],"relativePath":"guide/edu/chapter_21.md"}'),o={name:"guide/edu/chapter_21.md"},p=l(`<h1 id="_21-例外處理-exception" tabindex="-1">21. 例外處理 EXCEPTION <a class="header-anchor" href="#_21-例外處理-exception" aria-hidden="true">#</a></h1><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">exception</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TestException</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 除以0會引發異常</span></span>
<span class="line"><span style="color:#A6ACCD;">    System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">b=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">Exception</span><span style="color:#A6ACCD;"> in thread </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> java</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">lang</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ArithmeticException</span><span style="color:#89DDFF;font-style:italic;">:</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">by zero at exception</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Exception1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">TestException</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">java</span><span style="color:#89DDFF;font-style:italic;">:</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>java.lang.ArithmeticException</code>：Exception 名稱。</li><li><code>/by zero at exception.</code>：Exception 說明。</li><li><code>TestException.java:5</code>：發生程式位置及行數。</li></ul><h2 id="exception" tabindex="-1">Exception <a class="header-anchor" href="#exception" aria-hidden="true">#</a></h2><ul><li>程式執行時，可能會發生異常例外 (例如：除以0)，可以利用 <code>Exception</code> 機制來處理發生異常時的流程。</li><li><code>Throwable</code> 是所有 <code>Exception</code> 的父類別，以下分兩大類： <ul><li><code>Error</code>：系統執行環境本身發生嚴重錯誤，無法修復，例如：記憶體不足。</li><li><code>Exception</code>：再分兩類 <ul><li>一類是 <code>RunTimeException</code> 及其子類別，可以在程式中選擇不處理這類 <code>Exception</code>。</li><li>其他 <code>Exception</code>，這類的 <code>Exception</code> 必須被程式『 明確處理 』。</li></ul></li></ul></li></ul><p><img src="`+e+`" alt="edu-chapter-21-1"></p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 1 產生例外的程式</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">發生的 </span><span style="color:#C792EA;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">類別</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">ex</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 2 發生 Exception 後要執行的程式</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">finally</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 3 最後執行的程式碼</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>範例：</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">注意這行不會執行：發生 Exception 以下的程式，不會被執行</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ArithmeticException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">ex</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">錯誤：除以0發生問題</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">finally</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">『 鐵定 』『 最後 』會執行的程式區域</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><ol><li>發生 <code>Exception</code> 以下的程式不會被執行。</li></ol></li><li><ol start="2"><li>可以接多組 <code>catch exception</code>。</li></ol></li><li><ol start="3"><li><code>finally</code> 不一定要有，不需要可以省略，通常用來作為關閉資源，例如：關閉檔案、關閉資料庫連線。</li></ol></li></ul><h2 id="多重catch" tabindex="-1">多重catch <a class="header-anchor" href="#多重catch" aria-hidden="true">#</a></h2><ul><li><p><code>多重catch</code>：如果同時有多種 Exception 必須處理，例如：</p><ul><li><code>java.lang.Exception</code></li><li><code>java.lang.ArrayIndexOutOfBoundsException</code></li><li><code>java.lang.ArithmeticException</code></li></ul></li><li><p><code>catch</code> 有順序之分，因為 <code>Exception</code> 為 <code>ArithmeticException</code> 的父類別，父類別 <code>Exception</code> 必須放在後面，否則會有 <code>compile error</code>。</p></li><li><p>實務上，我們也常將 <code>java.lang.Exception</code> 放在最後一個 <code>catch</code>，以便攔下各種其他類型的錯誤</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// xxx</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ArithmeticException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">ex</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// [注意] 子類別例外要放在前面</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">ex</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul><h2 id="多重例外處理流程" tabindex="-1">多重例外處理流程 <a class="header-anchor" href="#多重例外處理流程" aria-hidden="true">#</a></h2><h2 id="runtimeexception" tabindex="-1">RuntimeException <a class="header-anchor" href="#runtimeexception" aria-hidden="true">#</a></h2><h2 id="checked-exception" tabindex="-1">Checked Exception <a class="header-anchor" href="#checked-exception" aria-hidden="true">#</a></h2><h2 id="throws" tabindex="-1">throws <a class="header-anchor" href="#throws" aria-hidden="true">#</a></h2><h2 id="如果有多個-exception-可能同時發生-throws-可以同時宣告可能丟出多個-exception-利用-區隔" tabindex="-1">如果有多個 Exception 可能同時發生，throws 可以同時宣告可能丟出多個 Exception，利用 <code>,</code> 區隔 <a class="header-anchor" href="#如果有多個-exception-可能同時發生-throws-可以同時宣告可能丟出多個-exception-利用-區隔" aria-hidden="true">#</a></h2><h2 id="throws-宣告丟出父類別-exception" tabindex="-1">throws 宣告丟出父類別 Exception <a class="header-anchor" href="#throws-宣告丟出父類別-exception" aria-hidden="true">#</a></h2><h2 id="throws-1" tabindex="-1">throws <a class="header-anchor" href="#throws-1" aria-hidden="true">#</a></h2><h2 id="throw" tabindex="-1">throw <a class="header-anchor" href="#throw" aria-hidden="true">#</a></h2><h2 id="throws-2" tabindex="-1">throws <a class="header-anchor" href="#throws-2" aria-hidden="true">#</a></h2><h2 id="lab-exception3" tabindex="-1">Lab Exception3 <a class="header-anchor" href="#lab-exception3" aria-hidden="true">#</a></h2><h2 id="常見-exception" tabindex="-1">常見 Exception <a class="header-anchor" href="#常見-exception" aria-hidden="true">#</a></h2><h2 id="nullpointerexeption" tabindex="-1">NullPointerExeption <a class="header-anchor" href="#nullpointerexeption" aria-hidden="true">#</a></h2>`,25),t=[p];function c(r,i,D,y,d,F){return a(),n("div",null,t)}const A=s(o,[["render",c]]);export{C as __pageData,A as default};
