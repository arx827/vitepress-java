import{_ as s,c as a,o as n,a as e}from"./app.b24c6e2d.js";const D=JSON.parse('{"title":"10. RESTful API","description":"","frontmatter":{"title":"10. RESTful API"},"headers":[{"level":2,"title":"API 簡介","slug":"api-簡介","link":"#api-簡介","children":[]},{"level":2,"title":"RESTful API 簡介","slug":"restful-api-簡介","link":"#restful-api-簡介","children":[]},{"level":2,"title":"RESTful API 與 RESTful 風格","slug":"restful-api-與-restful-風格","link":"#restful-api-與-restful-風格","children":[]},{"level":2,"title":"RESTful 風格","slug":"restful-風格","link":"#restful-風格","children":[]},{"level":2,"title":"RESTful 風格的 RESTful API","slug":"restful-風格的-restful-api","link":"#restful-風格的-restful-api","children":[]},{"level":2,"title":"RESTful API 如何在 Spring Boot 中實作","slug":"restful-api-如何在-spring-boot-中實作","link":"#restful-api-如何在-spring-boot-中實作","children":[]}],"relativePath":"guide/sb_iSpan/chapter_10.md"}'),l={name:"guide/sb_iSpan/chapter_10.md"},o=e(`<h1 id="_10-restful-api" tabindex="-1">10. RESTful API <a class="header-anchor" href="#_10-restful-api" aria-hidden="true">#</a></h1><h2 id="api-簡介" tabindex="-1">API 簡介 <a class="header-anchor" href="#api-簡介" aria-hidden="true">#</a></h2><ul><li><code>API</code> 稱為應用程式介面。</li><li>原文：<code>Application Programming Interface</code>。</li><li>這裡的介面指的不是 <code>Java</code> 的抽象介面，是使用應用程式的一種方法。</li><li>工程師寫好一個程式，提供給他人使用，並提供一個介面給他人，這個介面就稱為 <code>API</code>。</li><li>在網路應用程式中，<code>API</code> 會是一個網址，且會搭配說明文件，說明該 <code>API</code> 的用法與需要的參數、會回傳的資訊等。</li></ul><h2 id="restful-api-簡介" tabindex="-1">RESTful API 簡介 <a class="header-anchor" href="#restful-api-簡介" aria-hidden="true">#</a></h2><ul><li><code>RESTful API</code> 中文為表現層狀態轉換 (原文：<code>Representational State Transfer</code>，縮寫：<code>REST</code>) 是 <code>Roy Thomas Fielding</code> 提出來的一種全球資訊網軟體架構風格。</li><li>因每位工程師開發出來的 <code>API</code> 規格不一致，導致應用他人的 <code>API</code> 時，容易造成混亂，因此才有了 <code>RESTful API</code>。</li><li><code>RESTful API</code> 為一種開發風格，經過長時間的試煉，成為許多工程師公認目前最好的 <code>API</code> 風格。</li></ul><h2 id="restful-api-與-restful-風格" tabindex="-1">RESTful API 與 RESTful 風格 <a class="header-anchor" href="#restful-api-與-restful-風格" aria-hidden="true">#</a></h2><ul><li><code>RESTful</code> 風格：用約定成俗的方式排列透過 <code>URL</code> 發出 <code>http</code> 的請求，<code>http</code> 回應可以是頁面或 <code>JSON</code> 格式的資料。</li><li><code>RESTful API</code>：符合上述條件，而且 <code>Http</code> 回應 (<code>Response Body</code>) 為 <code>JSON</code> 格式 (早期用 <code>XML</code>)。</li></ul><table><thead><tr><th>http method</th><th>動作 (可帶參數)</th></tr></thead><tbody><tr><td>POST</td><td>新增資料</td></tr><tr><td>PUT</td><td>修改資料</td></tr><tr><td>DELETE</td><td>刪除資料</td></tr><tr><td>GET</td><td>查詢資料</td></tr></tbody></table><blockquote><p>嚴格棶說，若回應的資料不是 <code>JSON</code>，不能說這是 <code>RESTful api</code>，只能說他是一般的 <code>REST</code> 風格。</p></blockquote><h2 id="restful-風格" tabindex="-1">RESTful 風格 <a class="header-anchor" href="#restful-風格" aria-hidden="true">#</a></h2><ul><li>用 <code>http</code> 的 <code>method</code> 表示動作。</li><li>透過 <code>url</code> 路徑，可以知道資源間的階層關係。</li></ul><table><thead><tr><th>http method</th><th>動作 (可帶參數)</th></tr></thead><tbody><tr><td>POST</td><td>新增資料</td></tr><tr><td>PUT</td><td>修改資料</td></tr><tr><td>DELETE</td><td>刪除資料</td></tr><tr><td>GET</td><td>查詢資料</td></tr></tbody></table><table><thead><tr><th>http url</th><th>說明</th></tr></thead><tbody><tr><td>GET /post</td><td>取得所有文章</td></tr><tr><td>GET /post/99</td><td>取得 id 為 99 的文章</td></tr><tr><td>GET /post/99/comments</td><td>取得 id 為 99 的文章的所有留言</td></tr><tr><td>GET /post/99/comments/2</td><td>取得 id 為 99 的文章的留言 id 為 2 的留言</td></tr><tr><td>GET /post/99/like</td><td>取得 id 為 99 的文章的按讚數</td></tr></tbody></table><h2 id="restful-風格的-restful-api" tabindex="-1">RESTful 風格的 RESTful API <a class="header-anchor" href="#restful-風格的-restful-api" aria-hidden="true">#</a></h2><ul><li>用 <code>http</code> 的 <code>method</code> 表示動作。</li><li>透過 <code>url</code> 路徑，可以知道資源間的階層關係。</li><li><code>Http</code> 回應 (<code>Response Body</code>) 為 <code>JSON</code> 格式 (早期用 <code>XML</code>)。</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET  https://newsapi.org/v2/top-headlines?country=us&amp;category=business&amp;apiKey=API_KEY</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">status</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ok</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">totalResults</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">70</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">articles</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      source</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cnn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CNN</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      author</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sean Lyngass, CNN Business</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Russian group that hacked SolarWinds is still attacking America&#39;s computer networks - CNN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      description</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      source</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">null</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CNN</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      author</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sean Lyngass, CNN Business</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Russian group that hacked SolarWinds is still attacking America&#39;s computer networks - CNN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      description</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="restful-api-如何在-spring-boot-中實作" tabindex="-1">RESTful API 如何在 Spring Boot 中實作 <a class="header-anchor" href="#restful-api-如何在-spring-boot-中實作" aria-hidden="true">#</a></h2><ul><li>傳統網路應用系統和 <code>REST API</code> 之間的根本差別在於，網路應用系統送給前端瀏覽器的回應，通常是一份含有 <code>HTML</code>、<code>CSS</code>、<code>JavaScript</code> 的 <code>HTML 文件</code>，而 <code>REST API</code> 則是送回 <code>JSON</code> 格式的資料。</li><li>這種差異正反映在 <code>@Controller</code> 和 <code>@RestController</code> 兩個註釋中。<code>@Controller</code> 的工作是彙整要送回給客戶端的資料，並存入屬性物件內，然後傳回一個視圖的邏輯名稱，但 <code>@RestController</code> 只返回物件，此物件會自動轉換為 <code>JSON</code> 格式的資料。因為 <code>Spring</code> 提供的 <code>HTTP message converter</code> 會自動呼叫 <code>MappingJackson2Http-MessageConverter</code> 將 <code>POJO</code> 轉換為 <code>JSON</code> 格式的字串。</li><li><code>@RestController</code> 是 <code>Spring 4.0</code> 新增的註釋，為類別層級的註釋，其作用為標示類別為控制器類別，其內的所有方法會傳回 <code>POJO</code> 物件而非視圖的邏輯名稱。它為 <code>@Controller</code> 與 <code>@ResponseBody</code> 註釋的簡寫。</li></ul>`,19),t=[o];function p(c,r,d,i,u,F){return n(),a("div",null,t)}const h=s(l,[["render",p]]);export{D as __pageData,h as default};
